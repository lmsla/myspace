# MA007 - 資產管理

***
相關程式(備份於主目錄**05-程式備份**資料夾中)：<br>
MSSQL-Download.conf<br>
CombineMIDUser.sh<br>
ToYaml.sh
***

### 運作邏輯

#### IP 對應人名

1. MSSQL-Download.conf 透過 logstash 把 IP、MID、hostname、osname 轉為 csv 存放成檔案
2. CombinedMIDUser.sh : <br>
    將第一點MSSQL-Download.conf 轉存的 csv 與 MID-Name.csv (MID、人名、部門、狀態、type)，欄位全部組合為一個 YML 檔，MID 為 key。
3. 用 logstash translate 這個 YML 檔案。

#### MID 對應人名 username
- MID 對應 人名username
ToYAML.sh 將MID_NAME.csv 轉成 YML 

- HOST IP 對應廠區的
ToYAML.sh 將個設備的廠區對應表（csv） 轉 YML

## Part 1 Logstash MSSQL
將 db 的資料下載成 csv 存放於</br> /home/disney/bin/Rawdata/IPMID-Maping

```
conf 檔位置 ：
/etc/logstash/conf.d/MSSQL-Download.conf
```
## Part 2 IP 與 人員 mapping

### 程式路徑
```
此路徑底下存放 IP 串人員相關的程式
/home/disney/bin/
```
```
此目錄中有 4 種設備的 IP 清單，如有異動需更新

1.ASA.txt
2.Forti.txt
3.Identity.txt
4.NAC.txt
5.MID-Name.csv  - 子修會寫程式更新此檔，MID與人名的更新
```




